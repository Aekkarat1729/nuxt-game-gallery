import{f as I,r as a,k as V,c as s,a as t,l as i,t as f,s as N,v as y,x,b as w,w as h,e as S,y as j,o,d as _}from"./CUe4Mrkt.js";const A=window.setInterval,B={class:"min-h-screen bg-gray-50 flex items-center justify-center px-4"},M={class:"w-full max-w-md"},R={key:0,class:"p-4 mb-6 bg-green-50 border border-green-200 rounded-xl text-center"},E={class:"text-green-600 text-sm"},T={class:"text-green-600 text-sm mt-2"},U={class:"bg-white rounded-2xl shadow-sm p-8 space-y-6"},q={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-xl"},L={class:"text-red-600 text-sm"},D={class:"space-y-2"},J={class:"space-y-2"},O={class:"space-y-2"},G=["disabled"],z={key:0},F={key:1},H={key:2,class:"relative"},K={key:3,class:"text-center"},Q={key:1,class:"text-center mt-6"},Y=I({__name:"register",setup(W){const p=a(""),d=a(""),v=a(""),n=a(""),r=a(""),l=a(!1),g=a(3),k=j();let m=null;async function C(){if(n.value="",l.value=!0,d.value!==v.value){n.value="Passwords do not match!",l.value=!1;return}if(d.value.length<6){n.value="Password must be at least 6 characters long!",l.value=!1;return}try{const u=await fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p.value,password:d.value})}),e=await u.json();if(!u.ok)throw new Error(e.message||"Registration failed");localStorage.setItem("token",e.token),r.value="Registration successful!",P()}catch(u){n.value=u.message||"An error occurred during registration",l.value=!1}}function P(){g.value=3,m=A(()=>{g.value-=1,g.value<=0&&(clearInterval(m),k.push("/login"))},1e3)}return V(()=>{m&&clearInterval(m)}),(u,e)=>{const b=S;return o(),s("div",B,[t("div",M,[r.value?(o(),s("div",R,[t("p",E,f(r.value),1),t("p",T,"Redirecting in "+f(g.value)+" seconds...",1)])):i("",!0),t("div",U,[e[9]||(e[9]=t("div",{class:"text-center space-y-2"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"Create Account"),t("p",{class:"text-gray-600"},"Join our gaming community")],-1)),n.value?(o(),s("div",q,[t("p",L,f(n.value),1)])):i("",!0),r.value?i("",!0):(o(),s("form",{key:1,onSubmit:N(C,["prevent"]),class:"space-y-4"},[t("div",D,[e[3]||(e[3]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1)),y(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=c=>p.value=c),type:"email",required:"",placeholder:"Enter your email",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent outline-none transition-all duration-200 bg-gray-50 focus:bg-white"},null,512),[[x,p.value]])]),t("div",J,[e[4]||(e[4]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),y(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=c=>d.value=c),type:"password",required:"",placeholder:"Create a password",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent outline-none transition-all duration-200 bg-gray-50 focus:bg-white"},null,512),[[x,d.value]])]),t("div",O,[e[5]||(e[5]=t("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"}," Confirm Password ",-1)),y(t("input",{id:"confirmPassword","onUpdate:modelValue":e[2]||(e[2]=c=>v.value=c),type:"password",required:"",placeholder:"Confirm your password",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent outline-none transition-all duration-200 bg-gray-50 focus:bg-white"},null,512),[[x,v.value]])]),t("button",{type:"submit",disabled:l.value,class:"w-full bg-gray-900 text-white py-3 px-4 rounded-xl font-medium hover:bg-gray-800 transition-all duration-200 shadow-sm hover:shadow-md active:scale-95 mt-6 disabled:opacity-50 disabled:cursor-not-allowed"},[l.value?(o(),s("span",z,"Creating Account...")):(o(),s("span",F,"Create Account"))],8,G)],32)),r.value?i("",!0):(o(),s("div",H,e[6]||(e[6]=[t("div",{class:"absolute inset-0 flex items-center"},[t("div",{class:"w-full border-t border-gray-300"})],-1),t("div",{class:"relative flex justify-center text-sm"},[t("span",{class:"px-2 bg-white text-gray-500"},"or")],-1)]))),r.value?i("",!0):(o(),s("div",K,[e[8]||(e[8]=t("span",{class:"text-gray-600"},"Already have an account? ",-1)),w(b,{to:"/login",class:"text-gray-900 font-medium hover:text-gray-700 transition-colors duration-200"},{default:h(()=>e[7]||(e[7]=[_(" Sign In ")])),_:1,__:[7]})]))]),r.value?i("",!0):(o(),s("div",Q,[w(b,{to:"/",class:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors duration-200"},{default:h(()=>e[10]||(e[10]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),_(" Back to Game Library ")])),_:1,__:[10]})]))])])}}});export{Y as default};
