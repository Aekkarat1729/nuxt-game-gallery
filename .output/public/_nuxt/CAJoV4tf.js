import{f as j,g as N,i as v,r as g,j as B,k as G,n as F,p as S,c as i,a as t,b as c,w as d,T as U,F as V,m as A,e as D,h as E,o as u,l as I,t as p,d as b,_ as M}from"./CUe4Mrkt.js";import{u as R}from"./BdFRd4GS.js";import"./DmLEbLJU.js";const $={class:"relative px-4 masonry-wrapper"},z={class:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50"},H={key:0,class:"text-white bg-black/70 px-4 py-2 rounded-lg shadow-md text-xl font-bold"},J={class:"w-full masonry-container"},K={class:"grid grid-cols-1 gap-4 lg:block"},P={class:"relative w-full masonry-item bg-black text-white p-0 mb-8 text-left"},W={class:"flex flex-col items-start space-y-3"},Z=["src"],q={class:"absolute inset-0 flex flex-col justify-center items-center opacity-0 group-hover:opacity-100 text-white text-center px-4 transition duration-300"},O={class:"text-2xl font-bold drop-shadow"},Q={class:"text-lg text-gray-200 drop-shadow"},X=j({__name:"index",async setup(Y){let l,_;function w(o){const e=[...o];for(let s=e.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1)),r=e[s];e[s]=e[a],e[a]=r}return e}const y=E(),{data:k}=([l,_]=N(()=>R("/games",{baseURL:y.public.apiBase},"$ZFj1pjJ4hi")),l=await l,_(),l),x=v(()=>{var e;return w(((e=k.value)==null?void 0:e.data)||[]).slice(0,50)}),n=g(""),f=g(!1);let m=null;const C=v(()=>n.value?x.value.filter(o=>o.name.toLowerCase().includes(n.value.toLowerCase())):x.value);function h(o){const e=o.key;e===" "&&o.preventDefault(),f.value=!0,e==="Backspace"?n.value=n.value.slice(0,-1):e.length===1&&(n.value+=e),m&&clearTimeout(m),m=setTimeout(()=>{f.value=!1},2e3)}B(()=>{window.addEventListener("keydown",h)}),G(()=>{window.removeEventListener("keydown",h)});const L=F()||S().$router;function T(){localStorage.removeItem("token"),L.push("/login")}return(o,e)=>{const s=D;return u(),i("section",$,[t("div",z,[c(U,{name:"fade"},{default:d(()=>[f.value?(u(),i("div",H,' Searching: "'+p(n.value)+'" ',1)):I("",!0)]),_:1})]),t("div",J,[t("ul",K,[t("li",P,[t("div",W,[e[2]||(e[2]=t("h1",{class:"text-7xl font-bold"},"Hi, User!",-1)),c(s,{to:"/user/deal",class:"text-6xl font-bold mt-2 hover:text-green-400 transition duration-200 underline-offset-4 active:scale-95"},{default:d(()=>e[0]||(e[0]=[b(" Deal 🕹️ ")])),_:1,__:[0]}),c(s,{to:"/user/wishlist",class:"text-6xl font-bold mt-2 hover:text-blue-400 transition duration-200 underline-offset-4 active:scale-95"},{default:d(()=>e[1]||(e[1]=[b(" Wishlist ")])),_:1,__:[1]}),t("button",{onClick:T,class:"text-6xl font-bold text-red-400 mt-2 hover:text-red-300 transition duration-200 underline-offset-4 active:scale-95 appearance-none bg-transparent border-none p-0 text-left"}," Logout ")])]),(u(!0),i(V,null,A(C.value,a=>(u(),i("li",{key:a.id,class:"relative w-full group masonry-item"},[c(s,{to:`/detail/${a.slug}`},{default:d(()=>{var r;return[t("img",{src:a.backgroundImage||"/placeholder.jpg",alt:"Game image",class:"h-auto w-full rounded-md transition-all duration-200 border-image brightness-[.8] hover:brightness-[.2] object-cover"},null,8,Z),t("div",q,[t("h2",O,p(a.name),1),t("p",Q,p(((r=a.released)==null?void 0:r.slice(0,10))||"Unknown"),1)])]}),_:2},1032,["to"])]))),128))])])])}}}),oe=M(X,[["__scopeId","data-v-c378b348"]]);export{oe as default};
