import{f as V,D as U,y as H,r as m,i as P,j as T,c as s,o as l,a as e,l as n,t as d,F as b,m as f,B as I,s as M,_ as $,b as W}from"./CUe4Mrkt.js";import{u as D}from"./BdFRd4GS.js";import"./DmLEbLJU.js";const O={class:"min-h-screen bg-gray-50 text-gray-900"},q={key:0,class:"flex items-center justify-center min-h-[60vh]"},J={class:"text-center"},K={class:"text-gray-600"},Q={key:1,class:"flex items-center justify-center min-h-[60vh]"},X={key:2,class:"max-w-7xl mx-auto px-6 py-8 space-y-12"},Y={class:"space-y-6"},Z={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4"},ee={class:"text-4xl sm:text-5xl font-bold text-gray-900 leading-tight"},te={key:0,class:"text-gray-500 mt-2"},se={key:0,class:"flex items-center gap-2"},le={class:"flex text-yellow-400"},oe={class:"text-gray-600 font-medium"},ae={class:"bg-white rounded-2xl shadow-sm border border-gray-200/60 overflow-hidden"},re={class:"relative aspect-video bg-gray-100"},ne=["src","alt"],ie={key:2,class:"absolute bottom-4 right-4 bg-black/60 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm"},de={key:0,class:"p-4 bg-gray-50/50"},ue={class:"flex gap-2 overflow-x-auto pb-2"},ce=["onClick"],ge=["src","alt"],ve={class:"grid lg:grid-cols-3 gap-8"},me={class:"lg:col-span-2 space-y-8"},he={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200/60"},xe={key:0,class:"text-gray-700 leading-relaxed"},pe={key:1,class:"text-gray-500 italic"},be={key:0,class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200/60"},fe={class:"flex flex-wrap gap-2"},ye={key:1,class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200/60"},we={class:"flex flex-wrap gap-2"},ke={class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200/60 space-y-6 sticky top-24"},_e={class:"space-y-4"},je={key:0},Ce={class:"flex items-center gap-2"},Ie={key:1},Me={class:"flex flex-wrap gap-1"},Be={key:2},Le={class:"text-gray-900 font-medium"},De={key:3},$e=["href"],Ee={class:"relative max-w-6xl w-full"},Ne=["src","alt"],Re=V({__name:"ImageDetail",setup(E){const B=U(),k=H(),o=m(null),c=m(null),_=m(!0),y=m(null),u=m(0),j=m(!1),v=m(0),a=P(()=>{var t;const i=[];return(t=c.value)!=null&&t.screenshots&&i.push(...c.value.screenshots),i.length?i:[{id:0,url:"https://via.placeholder.com/800x450?text=No+Image",gameId:0}]}),N=()=>k.back(),R=()=>{u.value=(u.value-1+a.value.length)%a.value.length},z=()=>{u.value=(u.value+1)%a.value.length},F=i=>{v.value=i,j.value=!0},L=()=>{j.value=!1},S=()=>{v.value=(v.value-1+a.value.length)%a.value.length},A=()=>{v.value=(v.value+1)%a.value.length},C=i=>{const t=i.target;t.src="https://via.placeholder.com/400x300?text=Image+Not+Available"};T(async()=>{var i,t,p;try{_.value=!0,y.value=null;const g=B.params.slug,w=typeof g=="string"?g:g[0],{data:r}=await D("/games",{baseURL:"http://localhost:3000"},"$oGiLIdIsHP"),h=((i=r.value)==null?void 0:i.data)||[];if(o.value=h.find(x=>x.slug.toLowerCase()===w.toLowerCase())||null,(t=o.value)!=null&&t.id){const{data:x}=await D(`/game-details?gameId=${o.value.id}`,{baseURL:"http://localhost:3000"},"$zff9dplrot");if((p=x.value)!=null&&p.success&&x.value.data)c.value=x.value.data;else throw new Error("Failed to fetch additional game details")}}catch(g){y.value=g instanceof Error?g.message:"An unexpected error occurred"}finally{_.value=!1}});function G(i){return i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}return(i,t)=>{var p,g,w;return l(),s("div",O,[e("div",{class:"sticky top-0 z-30 bg-white/80 backdrop-blur-xl border-b border-gray-200/50"},[e("div",{class:"max-w-7xl mx-auto px-6 py-4"},[e("button",{onClick:N,class:"group flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors duration-200"},t[1]||(t[1]=[e("svg",{class:"w-5 h-5 transform group-hover:-translate-x-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 19l-7-7 7-7"})],-1),e("span",{class:"font-medium"},"Back",-1)]))])]),y.value?(l(),s("div",q,[e("div",J,[t[2]||(t[2]=e("div",{class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("p",K,d(y.value),1)])])):_.value?(l(),s("div",Q,t[3]||(t[3]=[e("div",{class:"text-center"},[e("div",{class:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-gray-600"},"Loading...")],-1)]))):o.value?(l(),s("div",X,[e("div",Y,[e("div",Z,[e("div",null,[e("h1",ee,d(o.value.name),1),o.value.released?(l(),s("p",te,d(G(o.value.released)),1)):n("",!0)]),o.value.rating?(l(),s("div",se,[e("div",le,[(l(),s(b,null,f(5,r=>e("svg",{key:r,class:I(["w-5 h-5",r<=Math.round(o.value.rating)?"fill-current":"fill-gray-200"]),viewBox:"0 0 20 20"},t[4]||(t[4]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e("span",oe,d(o.value.rating.toFixed(1)),1)])):n("",!0)])]),e("div",ae,[e("div",re,[e("img",{src:a.value[u.value].url,alt:`${o.value.name} Image ${u.value+1}`,class:"w-full h-full object-cover cursor-pointer",onClick:t[0]||(t[0]=r=>F(u.value)),onError:C},null,40,ne),a.value.length>1?(l(),s("button",{key:0,onClick:R,class:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full shadow-sm hover:bg-white hover:shadow-md transition-all duration-200 flex items-center justify-center"},t[5]||(t[5]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]))):n("",!0),a.value.length>1?(l(),s("button",{key:1,onClick:z,class:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full shadow-sm hover:bg-white hover:shadow-md transition-all duration-200 flex items-center justify-center"},t[6]||(t[6]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))):n("",!0),a.value.length>1?(l(),s("div",ie,d(u.value+1)+" / "+d(a.value.length),1)):n("",!0)]),a.value.length>1?(l(),s("div",de,[e("div",ue,[(l(!0),s(b,null,f(a.value,(r,h)=>(l(),s("button",{key:h,class:I(["relative w-16 h-16 flex-shrink-0 rounded-lg overflow-hidden border-2 transition-all duration-200",u.value===h?"border-gray-900":"border-transparent hover:border-gray-300"]),onClick:x=>u.value=h},[e("img",{src:r.url,alt:`Thumbnail ${h+1}`,class:"w-full h-full object-cover",onError:C},null,40,ge)],10,ce))),128))])])):n("",!0)]),e("div",ve,[e("div",me,[e("div",he,[t[7]||(t[7]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"About",-1)),o.value.description?(l(),s("p",xe,d(o.value.description),1)):(l(),s("p",pe,"No description available"))]),(p=c.value.genres)!=null&&p.length?(l(),s("div",be,[t[8]||(t[8]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Genres",-1)),e("div",fe,[(l(!0),s(b,null,f(c.value.genres,r=>(l(),s("span",{key:r.id,class:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm font-medium hover:bg-blue-100 transition-colors duration-200"},d(r.name),1))),128))])])):n("",!0),(g=c.value.tags)!=null&&g.length?(l(),s("div",ye,[t[9]||(t[9]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Tags",-1)),e("div",we,[(l(!0),s(b,null,f(c.value.tags.slice(0,12),r=>(l(),s("span",{key:r.id,class:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm hover:bg-gray-200 transition-colors duration-200"},d(r.name),1))),128))])])):n("",!0)]),e("div",null,[e("div",ke,[t[15]||(t[15]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Game Info",-1)),e("div",_e,[o.value.metacritic?(l(),s("div",je,[t[10]||(t[10]=e("div",{class:"text-sm text-gray-500 mb-1"},"Metacritic Score",-1)),e("div",Ce,[e("div",{class:I(["w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold text-sm",o.value.metacritic>=75?"bg-green-500":o.value.metacritic>=50?"bg-yellow-500":"bg-red-500"])},d(o.value.metacritic),3)])])):n("",!0),(w=c.value.platforms)!=null&&w.length?(l(),s("div",Ie,[t[11]||(t[11]=e("div",{class:"text-sm text-gray-500 mb-2"},"Platforms",-1)),e("div",Me,[(l(!0),s(b,null,f(c.value.platforms.slice(0,6),r=>(l(),s("span",{key:r.id,class:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs"},d(r.name),1))),128))])])):n("",!0),o.value.esrb?(l(),s("div",Be,[t[12]||(t[12]=e("div",{class:"text-sm text-gray-500 mb-1"},"ESRB Rating",-1)),e("div",Le,d(o.value.esrb),1)])):n("",!0),o.value.website?(l(),s("div",De,[t[14]||(t[14]=e("div",{class:"text-sm text-gray-500 mb-1"},"Website",-1)),e("a",{href:o.value.website,target:"_blank",class:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-700 transition-colors duration-200"},t[13]||(t[13]=[e("span",{class:"text-sm"},"Visit Website",-1),e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)]),8,$e)])):n("",!0)])])])])])):n("",!0),j.value?(l(),s("div",{key:3,class:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:M(L,["self"])},[e("div",Ee,[e("img",{src:a.value[v.value].url,alt:`${o.value.name} Image ${v.value+1}`,class:"w-full h-auto rounded-lg shadow-2xl",onError:C},null,40,Ne),e("button",{onClick:L,class:"absolute top-4 right-4 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-all duration-200 flex items-center justify-center"},t[16]||(t[16]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),a.value.length>1?(l(),s("button",{key:0,onClick:M(S,["stop"]),class:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-all duration-200 flex items-center justify-center"},t[17]||(t[17]=[e("svg",{class:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]))):n("",!0),a.value.length>1?(l(),s("button",{key:1,onClick:M(A,["stop"]),class:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-all duration-200 flex items-center justify-center"},t[18]||(t[18]=[e("svg",{class:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))):n("",!0)])])):n("",!0)])}}}),ze=Object.assign($(Re,[["__scopeId","data-v-4cc2dc25"]]),{__name:"ImageDetail"}),Fe={};function Se(E,B){const k=ze;return l(),s("div",null,[W(k)])}const Ue=$(Fe,[["render",Se]]);export{Ue as default};
